<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<script>
		$(document).ready( function () {
									 var es = {
				        "sProcessing": "Procesando...",
				        "sLengthMenu": "Mostrar _MENU_ registros",
				        "sZeroRecords": "No hay correos que mostrar.",
				        "sEmptyTable": "Ningún dato disponible en esta tabla.",
				        "sInfo": "Registros del _START_ al _END_ de un total de _TOTAL_.",
				        "sInfoEmpty": "", //"Mostrando registros del 0 al 0 de un total de 0 registros."
				        "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
				        "sInfoPostFix": "",
				        "sSearch": "Buscar:",
				        "sUrl": "",
				        "sInfoThousands": ",",
				        "sLoadingRecords": "Cargando...",
				        "oPaginate": {
				            "sFirst": "Primero",
				            "sLast": "Último",
				            "sNext": "Siguiente",
				            "sPrevious": "Anterior"
				        },
				        "oAria": {
				            "sSortAscending": ": Activar para ordenar la columna de manera ascendente.",
				            "sSortDescending": ": Activar para ordenar la columna de manera descendente."
				        }
				    };
			$("div[id*='tablaEnviados'] table").DataTable({"language": es,
				"columnDefs": [
				   			{
				   			"defaultContent": "No disponible",
				   			"targets": "_all"
				   			}
				   			]

				   			});
		} );
	</script>
			<p:layout>

                <p:layoutUnit position="north" size="100%" resizable="true" styleClass="nestedUnit">

                    <p:tabView>

                        <p:tab title="Bandeja de Enviados">

                            <h:form>

                                <p:dataTable id="tablaEnviados" value="#{enviadosBeans.correoSmall}" var="enviados"  rowKey="#{enviados.fecha}"
                                             selection="#{enviadosBeans.selectedCorreo}" selectionMode="single"
                                             rows="10" onRowSelectUpdate=":mailViewer"
                                              emptyMessage="No hay correos que mostrar">

                                    <p:column headerText="De" sortBy="#{enviados.from}">
                                        #{enviados.from}
                                    </p:column>

                                    <p:column headerText="Asunto" sortBy="#{enviados.subject}">
                                        #{enviados.subject}
                                    </p:column>

                                    <p:column headerText="Fecha" sortBy="#{enviados.fecha}">
                                       #{enviados.fecha}
                                    </p:column>
                                    
	          						<p:column headerText="Ver detalle" style="text-align: center">
	          							<p:commandButton update=":mailViewer" icon="ui-icon-clipboard" title="View">
                                        	<f:setPropertyActionListener value="#{mail }" target="#{enviadosBeans.selectedCorreo}" />
                                    	</p:commandButton>
                                	</p:column>

                                </p:dataTable>

                            </h:form>

                        </p:tab>

                    </p:tabView>

                </p:layoutUnit>

                <p:layoutUnit position="center" size="50%" styleClass="nestedUnit">

                    <p:outputPanel id="mailViewer">
                        <h:outputText value="#{enviadosBeans.selectedCorreo.subject}" rendered="#{not empty enviadosBeans.selectedCorreo}" />
                    </p:outputPanel>

                </p:layoutUnit>
               
            </p:layout>
</ui:composition>