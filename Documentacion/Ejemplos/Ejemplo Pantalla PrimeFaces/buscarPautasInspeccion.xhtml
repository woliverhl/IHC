<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<ui:composition template="/core/desktop/desktop.xhtml">
	<ui:define name="left">
		<ui:include src="../left_requisitos.xhtml"></ui:include>
	</ui:define>
	<ui:define name="body">	
		<h:form id="form" prependId="false">
				
			<ui:include src="../../pop-up/cambioEstadoPopUp.xhtml" />
			
			<p:panel header="Buscar Pautas" >
				<h:panelGrid columns="5" cellpadding="8">
					<h:outputLabel  for="cbEstado" value="Estado: " style="display: block; width: 90px;" />
					<p:selectOneMenu id="cbEstado" value="#{mbPautas.busquedaPautasVO.idEstado}" style="width:190px;">
						<f:selectItems value="#{commonOptions.estadosVigencia}"/>  
					</p:selectOneMenu>						
				</h:panelGrid>
				
				<p:messages showDetail="true" autoUpdate="true" closable="true" />
				
				<h:panelGroup cellpadding="8" style="text-align:right" layout="block">
					<p:commandButton value="Buscar" update=":form" action="#{mbPautas.botonBuscar}" style="width: 75px;"/>
				</h:panelGroup>	
			</p:panel>
			
			<p:dataTable value="#{mbPautas.busquedaPautasVO.listaDetalle}" var="var" paginator="true" rows="8" rendered="#{not empty mbPautas.busquedaPautasVO.listaDetalle}">	
				<p:column headerText="Nombre" style="text-align:center;  white-space: normal;">
					<h:outputText value="#{var.nombre}" style="text-align:center;  white-space: normal;"/>	
				</p:column>					
				<p:column headerText="Descripcion" style="text-align:center;  white-space: normal;">
					<h:outputText value="#{var.descripcion}" style="text-align:center;  white-space: normal;"/>	
				</p:column>
				<p:column headerText="Tipo Consumo" style="text-align:center;  white-space: normal;">
					<h:outputText value="#{var.tipoConsumoDesc}" style="text-align:center;  white-space: normal;"/>	
				</p:column>	
				<p:column headerText="Tipo Establecimiento" style="text-align:center;  white-space: normal;">
					<h:outputText value="#{var.tipoEstabDesc}" style="text-align:center;  white-space: normal;"/>	
				</p:column>			
				<p:column headerText="Estado" style="text-align:center;  white-space: normal;">
					<p:commandLink value="#{var.estadoVO.estado ? 'Vigente' : 'No Vigente'}" update=":form:cambioEstadoDialog" oncomplete="EstadoPopUp.show()" action="#{mbPautas.levantarPopupEditarEstadoBusqueda(var)}"  />							
				</p:column>
				<p:column headerText="Accion" style="text-align:center;">	
					<p:commandButton icon="ui-icon-pencil" action="#{mbPautas.levantarEditar(var)}" />			
				</p:column>														
			</p:dataTable>
						
			<h:panelGroup cellpadding="8" style="text-align:right" layout="block">
				<p:commandButton value="Ir Ingresar" update=":form" action="ingresoPautas" />			
				<p:commandButton value="Cancelar"    update=":form" action="#{mbPautas.botonCancelarBuscar}"   style="width: 75px;" />		
			</h:panelGroup>		
		</h:form>
	</ui:define>
</ui:composition>
</html>